[{"C:\\Users\\dsnpack\\Desktop\\pasta\\Codes\\javascript\\firechat-react\\src\\App.js":"1","C:\\Users\\dsnpack\\Desktop\\pasta\\Codes\\javascript\\firechat-react\\src\\index.js":"2"},{"size":2402,"mtime":1608379129703,"results":"3","hashOfConfig":"4"},{"size":221,"mtime":1608376180520,"results":"5","hashOfConfig":"4"},{"filePath":"6","messages":"7","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"8"},"36dmkd",{"filePath":"9","messages":"10","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\dsnpack\\Desktop\\pasta\\Codes\\javascript\\firechat-react\\src\\App.js",["11"],"import React, { useState, useEffect, useCallback } from 'react';\nimport firebase from 'firebase';\nimport 'firebase/firestore';\n\nimport './app.css';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBKSp7Ju1iWtciHyyVGcuW09eM7-dzFnEE\",\n  authDomain: \"firechat-8e180.firebaseapp.com\",\n  databaseURL: \"https://firechat-8e180.firebaseio.com\",\n  projectId: \"firechat-8e180\",\n  storageBucket: \"firechat-8e180.appspot.com\",\n  messagingSenderId: \"254452523356\",\n  appId: \"1:254452523356:web:fcf38c4c2d106cd79fa199\",\n  measurementId: \"G-8T5D7WHWXP\"\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nconst App = () => {\n  const [messages, setMessages] = useState([]);\n  const [message, setMessage] = useState('');\n  const [user, setUser] = useState('');\n\n  const onMessagesChanged = useCallback(snap => {\n    const data = snap.docs.map(doc => ({id: doc.id, ...doc.data()}));\n\n    console.log('snapshot', data);\n    setMessages(data);\n  }, []);\n\n  useEffect(() => {\n    const unsubscribe = firebase.firestore().collection('messages').onSnapshot(onMessagesChanged);\n\n    return () => unsubscribe();\n  }, []);\n\n  const sendMessage = useCallback(\n    () => {\n      try{\n        firebase.firestore().collection('messages').add({\n          user: user,\n          message: message\n        });\n      } catch (Exception){\n        console.log(\"Algo de errado não está certo\");\n      } finally {\n        setMessage('');\n      }\n        \n    }, [user, message]\n  )\n\n  return(\n    <div>\n      <div className=\"user\">\n        <input \n        className=\"user-name\"\n        value={user}\n        onChange={e => setUser(e.target.value)}\n        placeholder=\"Nome de usuário\"\n        />\n      </div>\n      <div className=\"container\">\n      <h1>Mensagens</h1>\n        {\n          messages.map(message => {\n            return (\n              <div>\n              <strong>{message.user}: </strong>\n              {message.message}\n              </div>\n              \n            )\n          })\n        }\n        {/* aqui vai ficar armazenada toda conversa na tela */}\n      </div>\n      <div className=\"dialog\">\n        <input \n          className=\"message-for-seding\"\n          value={message}\n          onChange={e => setMessage(e.target.value)}\n          placeholder=\"Mensagem\"\n        />\n        <button \n          className=\"btn-send\"\n          onClick={sendMessage}\n          >Send</button>\n      </div>\n    </div>\n  )\n\n}\nexport default App;\n","C:\\Users\\dsnpack\\Desktop\\pasta\\Codes\\javascript\\firechat-react\\src\\index.js",[],{"ruleId":"12","severity":1,"message":"13","line":36,"column":6,"nodeType":"14","endLine":36,"endColumn":8,"suggestions":"15"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'onMessagesChanged'. Either include it or remove the dependency array.","ArrayExpression",["16"],{"desc":"17","fix":"18"},"Update the dependencies array to be: [onMessagesChanged]",{"range":"19","text":"20"},[1079,1081],"[onMessagesChanged]"]